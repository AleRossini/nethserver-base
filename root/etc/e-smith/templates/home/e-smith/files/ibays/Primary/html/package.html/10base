<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" >
<head>
	<title>{"$SystemName"}</title>
        <style type='text/css'>
body\{background-color:#fff;color:#222;text-align:center;font-family:Arial, sans-serif;font-size:100%;margin:0;\} .container_100\{text-align:justify;width:100%;margin:0 auto;\} .container_95\{text-align:justify;width:95%;margin:0 auto;\} .container_90\{text-align:justify;width:90%;margin:0 auto;\} .container_85\{text-align:justify;width:85%;margin:0 auto;\} .container_80\{text-align:justify;width:80%;margin:0 auto;\} .container_75\{text-align:justify;width:75%;margin:0 auto;\} .container_70\{text-align:justify;width:70%;margin:0 auto;\} .container_65\{text-align:justify;width:65%;margin:0 auto;\} .container_60\{text-align:justify;width:60%;margin:0 auto;\} .container_55\{text-align:justify;width:55%;margin:0 auto;\} .container_50\{text-align:justify;width:50%;margin:0 auto;\} .container_45\{text-align:justify;width:45%;margin:0 auto;\} .container_40\{text-align:justify;width:40%;margin:0 auto;\} .container_35\{text-align:justify;width:35%;margin:0 auto;\} .container_30\{text-align:justify;width:30%;margin:0 auto;\} .container_25\{text-align:justify;width:25%;margin:0 auto;\} .container_20\{text-align:justify;width:20%;margin:0 auto;\} .container_15\{text-align:justify;width:15%;margin:0 auto;\} .container_10\{text-align:justify;width:10%;margin:0 auto;\} .container_5\{text-align:justify;width:5%;margin:0 auto;\} .container_760px\{text-align:justify;width:760px;margin:0 auto;\} .container_600px\{text-align:justify;width:600px;margin:0 auto;\} .container_980px\{text-align:justify;width:980px;margin:0 auto;\} .container_5em\{text-align:justify;width:5em;margin:0 auto;\} .container_10em\{text-align:justify;width:10em;margin:0 auto;\} .container_15em\{text-align:justify;width:15em;margin:0 auto;\} .container_20em\{text-align:justify;width:20em;margin:0 auto;\} .container_25em\{text-align:justify;width:25em;margin:0 auto;\} .container_30em\{text-align:justify;width:30em;margin:0 auto;\} .container_35em\{text-align:justify;width:35em;margin:0 auto;\} .container_40em\{text-align:justify;width:40em;margin:0 auto;\} .container_45em\{text-align:justify;width:45em;margin:0 auto;\} .container_50em\{text-align:justify;width:50em;margin:0 auto;\} .container_55em\{text-align:justify;width:55em;margin:0 auto;\} .container_60em\{text-align:justify;width:60em;margin:0 auto;\} .container_65em\{text-align:justify;width:65em;margin:0 auto;\} .container_70em\{text-align:justify;width:70em;margin:0 auto;\} .container_75em\{text-align:justify;width:75em;margin:0 auto;\} .container_80em\{text-align:justify;width:80em;margin:0 auto;\} .container_85em\{text-align:justify;width:85em;margin:0 auto;\} .container_90em\{text-align:justify;width:90em;margin:0 auto;\} .container_95em\{text-align:justify;width:95em;margin:0 auto;\} .container_100em\{text-align:justify;width:100em;margin:0 auto;\} .column_5\{float:left;width:5%;\} .column_10\{float:left;width:10%;\} .column_15\{float:left;width:15%;\} .column_20\{float:left;width:20%;\} .column_25\{float:left;width:25%;\} .column_30\{float:left;width:30%;\} .column_35\{float:left;width:35%;\} .column_40\{float:left;width:40%;\} .column_45\{float:left;width:45%;\} .column_50\{float:left;width:50%;\} .column_55\{float:left;width:55%;\} .column_60\{float:left;width:60%;\} .column_65\{float:left;width:65%;\} .column_70\{float:left;width:70%;\} .column_75\{float:left;width:75%;\} .column_80\{float:left;width:80%;\} .column_85\{float:left;width:85%;\} .column_90\{float:left;width:90%;\} .column_95\{float:left;width:95%;\} .column_100\{float:left;width:100%;\} .box\{background-color:#eee;border:1px solid;clear:both;border-color:#ccc #ccc #bbb;margin:.75em;padding:.75em;\} .inner\{clear:both;margin:.75em;\} p\{font-size:1em;line-height:1.5em;margin:0 0 1.5em;\} h1\{border-bottom:1px solid #ddd;color:#000;font-size:3em;line-height:1em;margin:0 0 .5em;\} h2\{border-bottom:1px solid #ddd;color:#000;font-size:1.5em;line-height:1em;margin:0 0 1em;\} h3\{border-bottom:1px solid #ddd;color:#000;font-size:1.3333em;line-height:1.125em;margin:0 0 1.125em;\} h4\{border-bottom:1px solid #ddd;color:#000;font-size:1.1667em;line-height:1.286em;margin:0 0 1.286em;\} h5\{border-bottom:1px solid #ddd;color:#000;font-size:1em;line-height:1.2em;margin:0 0 .3em;\} h6\{border-bottom:1px solid #ddd;color:#000;font-size:.8333em;line-height:.9em;margin:0 0 .9em;\} ul,ol\{line-height:1.5em;list-style-position:inside;margin:0 0 1.5em;padding:0;\} dl\{line-height:1.5em;\} dt\{border-bottom:1px solid #ddd;color:#000;font-weight:700;margin:0;padding:0;\} dd\{margin:0 1.5em .75em;padding:0;\} blockquote\{margin:0;padding:0;\} blockquote p\{line-height:1em;margin:0 .75em 1.5em;\} table\{border-collapse:collapse;caption-side:bottom;line-height:1.5em;margin:0 0 1.5em;\} td,th\{border:1px solid;border-color:#ddd #ddd #ccc;padding:.375em .75em;\} fieldset\{border:1px solid;border-color:#ddd #ddd #ccc;margin:0 0 1.5em;padding:.75em;\} input,textarea\{background-color:#fff;border:1px solid;color:#000;width:99%;border-color:#ddd #ddd #ccc;margin:0 0 1.5em;\} a,a:link,a:visited\{text-decoration:underline;\} a:hover,a:active\{text-decoration:none;\} .text_center\{text-align:center;\} .text_left\{text-align:left;\} .text_right\{text-align:right;\} .float_left\{float:left;\} .float_right\{float:right;\} .clear_left\{clear:left;\} .clear_right\{clear:right;\} .submit\{display:block;\} #header\{background-color:#def;border:1px solid;clear:both;text-align:center;border-color:#bcd #bcd #abc;margin:.75em;padding:.75em;\} #header h1,#header h2,#header h3,#header h4,#header h5,#header h6\{border-bottom:1px solid #bcd;\} #header ul,#header ol\{color:#def;font-weight:700;list-style:none;margin:0;padding:0;\} #header li\{display:inline;padding:0;\} #header a,#header a:link,#header a:visited\{color:#345;text-decoration:none;padding:0 .75em;\} #header a:hover,#header a:active\{color:#000;\} #footer\{border-bottom:1px solid #bbb;border-top:1px solid #ccc;clear:both;text-align:center;margin:.75em;padding:.75em;\} #footer p\{margin:0;\} a\{color:#345;\} br,.clear_both\{clear:both;\}
        </style>
</head>
<body>
<div class="container_760px">
	<div class="column_100">
		<div id="header" class="inner">
			<h1>{"$SystemName"}</h1>
			<p>{"$DomainName"}</p>
		</div>
	</div>
	<div class="column_100">
		<div class="inner">
			<!--<p>In this page you cand find all installed add-on.</p>-->
		</div>
	</div>

{

  use esmith::AddonsDB;
  my $db = esmith::AddonsDB->open_ro() or die esmith::DB->error;
  my $base_url = "http://".$SystemName.".".$DomainName."/";
 
  foreach $rpm ($db->addons)
  {
      $OUT.="<div class='column_50'><div class='inner box'>";
      $OUT.="<h2>".$rpm->prop('name')."</h2>";
      $OUT.="<p>".$rpm->prop('description')."</p>";
      $OUT.="<dl><dt>Release:</dt><dd>".$rpm->prop('release')."</dd><dt>URL:</dt/>";
      my $url = $rpm->prop('url') || "";
      $OUT.="<dd><a href='".$base_url.$url."'>".$base_url.$url."</a></dd>" unless ($url eq "");
      $OUT.="</dl>";
      $OUT.="</div></div>";
   }
}
	<div class="column_100">
		<div id="footer" class="inner">
			<p>
				{"$SystemName.$DomainName"} | {"$OrganizationContact{Company}"} 
			</p>
		</div>
	</div>
</div>
</body>
</html>
